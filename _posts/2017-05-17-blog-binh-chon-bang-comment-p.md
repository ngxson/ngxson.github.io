---
layout: post
color: blue
cover: 'https://scontent-hkg3-1.xx.fbcdn.net/v/t31.0-8/18489555_230063814154907_6483819104876045425_o.jpg?oh=02d1a6602307d71f0046eacc498fb43a&oe=597B84B0'
title:  'BLOG #6: BÌNH CHỌN BẰNG COMMENT (P1)'
date: 2017-05-17 01:00:07
tags: facebook
---
<div class="_2cuy _3dgx _2vxa" style="">Như mọi người đã biết, việc bình chọn qua like và share gần đây đã bị <span class="_4yxo" style="">chỉ trích</span> rất nhiều. Ko thể phủ nhận thể lệ bình chọn như vậy giúp <span class="_4yxo" style="">tăng lượt tương tác</span> rất mạnh mẽ, tuy nhiên chúng ta lại phải đánh đổi lại là <span class="_4yxo" style="">sự công bằng</span> khi việc gian lận qua like/share thì “nhanh nhản” mà cách <span class="_4yxo" style="">phòng tránh</span> thì gần như <span class="_4yxo" style="">là không thể</span>. </div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x _h2y" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/18446901_230058517488770_1500644831385527397_n.png?oh=b1995cf91e5e996a1d28f0bd2361b067&amp;oe=59BE3808" alt=""   style=""><div class="_h2w _50f8 _50f4" style="">Quá nhiều share cho 1 bài post...</div></div></figure><div class="_2cuy _3dgx _2vxa" style=""> Vì vậy, chuỗi bài viết này mình sẽ nêu ra từng bước xây dựng 1 <span class="_4yxo" style="">thể lệ bình chọn mới</span> qua số lượt like/comment. Đảm bảo các tiêu chí:</div><ul class="_5a_q _5yj1"   style=""><li class="_2cuy _509q _2vxa" style=""><span class="_4yxo" style="">Minh bạch</span></li><li class="_2cuy _509q _2vxa" style=""><span class="_4yxo" style="">Chính xác</span></li><li class="_2cuy _509q _2vxa" style=""><span class="_4yxo" style="">Dễ hiểu</span></li></ul><blockquote class="_2cuy _509u _2vxa" style="">Bài viết này sẽ hướng đến tiêu chí là <span class="_4yxo" style="">dễ hiểu</span>, tránh việc gây tranh cãi trong tương lai.</blockquote><div class="_2cuy _3dgx _2vxa" style="">Trong bình chọn K&amp;Q vòng tài năng đợt vừa rồi, nhiều bạn đã đc tiếp xúc với cách bình chọn bằng cmt mã số, bạn có thể đọc chi tiết tại đây: <a href="https://www.facebook.com/notes/chatbot-cnh/blog-2-b%C3%ACnh-ch%E1%BB%8Dn-qua-facebook/221010428393579/" style="">https://www.facebook.com/notes/chat...</a></div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/18446709_230058707488751_4158606287713707605_n.png?oh=c58f1ab99b24ef30edecfdcd9663049c&amp;oe=59B673DB" alt=""   style=""></div></figure><h3 class="_2cuy _50a1 _2vxa" style=""> Tuy nhiên, cách này vẫn gặp phải 1 vài vấn đề như:</h3><div class="_2cuy _3dgx _2vxa" style="">- Mã số bình chọn đc tạo random, là 1 dãy số <span class="_4yxo" style="">không có ý nghĩa </span>- Như vậy, bên mình <span class="_4yxo" style="">cần lưu lại</span> mã nào đc tạo ra <span class="_4yxo" style="">vào lúc nào</span>. - Và nếu có người <span class="_4yxo" style="">liên tục</span> truy cập vào lấy mã (nhưng ko comment), thì mình sẽ càng phải lưu nhiều mã “rác”, và khi có quá nhiều thì việc xử lý sẽ trở nên <span class="_4yxo" style="">khó khăn</span>.</div><h3 class="_2cuy _50a1 _2vxa" style="">Và để giải quyết vấn đề trên, có 1 vài giải pháp như sau:</h3><div class="_2cuy _3dgx _2vxa" style="">- Ko chọn 1 mã số bình chọn random nữa mà sẽ<span class="_4yxo" style=""> mã hóa</span> luôn thông tin về<span class="_4yxo" style=""> thời gian</span> vào mã số đó, và do đó mình ko cần lưu lại mã đã tạo. - “Mượn” tính năng<span class="_4yxo" style=""> google app script</span> của google luôn. Nhờ vậy mọi thứ đc xử lý qua máy chủ của google, mạnh mẽ và hoàn toàn free.</div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x _h2y" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t31.0-8/p720x720/18451418_230059174155371_3966597226824974765_o.png?oh=652e4bd9dd5697fd36e51b1c0436d904&amp;oe=597BD745" alt=""   style=""><div class="_h2w _50f8 _50f4" style="">Ngoài ra, gg app script còn giúp liên kết giữa các dịch vụ của google</div></div></figure><h3 class="_2cuy _50a1 _2vxa" style="">Sau đây chúng ta sẽ đi sâu hơn vào cách tạo mã số mới này.</h3><div class="_2cuy _3dgx _2vxa" style="">Ý tưởng ở đây là:</div><div class="_2cuy _3dgx _2vxa" style="">- Ví dụ mình bắt đầu mở bình chọn lúc 8h - Lúc 8h0p16s là đã 16s trôi qua, mình cấp cho họ mã số 16 - Lúc 8h1p10s là đã có 60+10=70 giây trôi qua, mã số 70 - Lúc đúng 9h là đã có 3600s trôi qua, mã số 3600 - <span class="_4yxo" style="">Chỉ cần kiểm tra thời gian lấy mã và thời gian cmt gần nhau =&gt; hợp lệ.</span></div><div class="_2cuy _3dgx _2vxa" style=""> Tuy nhiên, nếu <span class="_4yxo" style="">1 ngày trôi qua</span> thì sao? Mã số sẽ trở nên <span class="_4yxo" style="">rất dài</span>. Vậy tại sao thay vì chỉ dùng số, mình ko dùng <span class="_4yxo" style="">cả chữ</span> để biểu thị. Tuy nhiên, do các ký tự 0,O, i, l (L thường), I (i in hoa) khá giống nhau nên phải loại chúng ra.</div><div class="_2cuy _3dgx _2vxa" style="">Sau khi đã cân nhắc kỹ, chúng ta còn <span class="_4yxo" style="">33 ký tự</span> tương ứng với 33 số: </div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/18485340_230059384155350_1682444876001458467_n.png?oh=4c00450fe7f123b3dc1f326c5a018439&amp;oe=59B8C830" alt=""   style=""></div></figure><div class="_2cuy _3dgx _2vxa" style=""> Giờ chỉ còn vấn đề là đổi số bình thường thành dạng chữ như trên. Đối với các bạn đã học về toán/tin, chắc hẳn ai cũng biết thừa đây là đổi từ <span class="_4yxo" style="">hệ cơ số 10</span> sang<span class="_4yxo" style=""> hệ 33</span>. Thuật toán cũng chỉ đơn giản là <span class="_4yxo" style="">chia lấy phần dư</span> cho đến khi ko chia đc nữa: </div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x _h2y" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/18425183_230059667488655_1423962614375565345_n.png?oh=2f09b4d28b7c1a96acbff560ed8475fb&amp;oe=59BE0C60" alt=""   style=""><div class="_h2w _50f8 _50f4" style="">nhìn quen ko?</div></div></figure><div class="_2cuy _3dgx _2vxa" style=""> Như vậy mình sẽ cấp cho người muốn bình chọn má số là <span class="_4yxo" style="">W4A</span> vào lúc <span class="_4yxo" style="">33 phút 18 giây</span> kể từ lúc bắt đầu bình chọn.</div><div class="_2cuy _3dgx _2vxa" style="">Tuy nhiên, để tránh bị các mã số trùng nhau, mình sẽ<span class="_4yxo" style=""> thêm 1 ký tự random</span> ở đầu, như vậy ví dụ vào cùng 1 thời điểm, có người sẽ đc lấy mã số AW4A, có người lại đc mã CW4A,...</div><figure class="_2cuy _4nuy _2vxa" style=""><div class="_h2x _h2y" style=""><img class="_h2z _297z _usd img" src="https://scontent-hkg3-1.xx.fbcdn.net/v/t31.0-8/18422341_230059914155297_5582713881544753116_o.png?oh=18e31d5e9c5db8ea6a05b2224604a03f&amp;oe=59C0E313" alt=""   style=""><div class="_h2w _50f8 _50f4" style="">phiên bản thử nghiệm</div></div></figure><div class="_2cuy _3dgx _2vxa" style=""> Tuy nhiên, như vậy chẳng phải là ai cũng tự tạo mã số cho riêng mình đc sao? Và như thế họ có thể lập trình 1 phần mềm <span class="_4yxo" style="">auto</span> tạo mã, <span class="_4yxo" style="">auto</span> login vào nick clone và <span class="_4yxo" style="">auto</span> comment?</div><div class="_2cuy _3dgx _2vxa" style="">Để giải quyết vấn đề này, ở phần tiếp theo đây, mình sẽ “tự chế” một <span class="_4yxo" style="">chữ ký kĩ thuật số đơn giản</span>. Hãy chú ý đón xem nhé!</div>   